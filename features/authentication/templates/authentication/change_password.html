{% extends 'html/base.html' %}
{% block title %}Change Password{% endblock %}
{% block content %}
    {% include 'html/header.html' %}
    <main class="border">
        <section class="border max-w-minmax h-screen mx-auto">
            <div class="bg-[#3AAFA9] h-[20%] min-h-52">
                <div
                    class="border w-4/5 grid grid-cols-[1fr_5fr] grid-rows-[100%_auto] h-full translate-y-1/2 ms-[10%]">

                    <div class="border col-start-1 place-items-center place-content-center z-10 min-h-fit">
                        <div
                            class="flex size-48 items-center justify-center rounded-full overflow-hidden border-2 border-gray-300 bg-gray-50"
                        >
                            <img id="profile-pic-preview" src="
                                    {% if user.profile_picture %}
                                    {{ user.profile_picture.url }}
                                    {% else %}
                                    data:image/svg+xml,%3Csvg class='size-full' fill='currentColor' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' d='M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z' clip-rule='evenodd'%3E%3C/path%3E%3C/svg%3E
                                    {% endif %}
                                     " alt="Profile Image"
                                 class="size-full object-cover">
                        </div>

                    </div>
                    <div class="border col-start-2 h-1/2 translate-y-full px-5">
                        <h5 class="float-left font-medium">{{ user.get_full_name }}<br />
                            <span class="font-normal text-xs">
                            {% if user.user_type == 'tenant' %}
                                0 Reviews
                            {% elif user.user_type == 'landlord' %}
                                ⭐ 4.9 Rating
                            {% elif user.user_type == 'admin' %}
                                Admin
                            {% endif %}
                            </span>
                        </h5>
                        <a href="{{ user.get_absolute_url }}"
                           class="ms-2 float-right focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900">
                            Cancel
                        </a>
                    </div>
                    <div class="border row-start-2 col-span-2 bg-gray-200 p-5 mt-5">
                        <form method="POST">
                            {% csrf_token %}
                            <div class="flex flex-col w-1/3 mx-auto border gap-5">
                                <div class="border p-2">
                                    <div>
                                        <label for="{{ form.old_password.id_for_label }}"
                                               class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">{{ form.old_password.label }}</label>
                                        <input type="password" id="{{ form.old_password.id_for_label }}"
                                               name="{{ form.old_password.name }}"
                                               class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                                               placeholder="•••••••••" required />
                                        {% if form.old_password.errors %}
                                            <div class="text-red-500 text-sm pt-2">{{ form.old_password.errors }}</div>
                                        {% endif %}
                                    </div>

                                </div>
                                <div class="border p-2">
                                    <div>
                                        <label for="{{ form.new_password1.id_for_label }}"
                                               class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">{{ form.new_password1.label }}</label>
                                        <input type="password" id="{{ form.new_password1.id_for_label }}"
                                               name="{{ form.new_password1.name }}"
                                               class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                                               placeholder="•••••••••" required />
                                        {% if form.new_password1.errors %}
                                            <div class="text-red-500 text-sm pt-2">{{ form.new_password1.errors }}</div>
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="border p-2">
                                    <div>
                                        <label for="{{ form.new_password2.id_for_label }}"
                                               class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">{{ form.new_password2.label }}</label>
                                        <input type="password" id="{{ form.new_password2.id_for_label }}"
                                               name="{{ form.new_password2.name }}"
                                               class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
                                               placeholder="•••••••••" required />
                                        {% if form.new_password2.errors %}
                                            <div class="text-red-500 text-sm pt-2">{{ form.new_password2.errors }}</div>
                                        {% endif %}
                                    </div>
                                </div>
                                {% if form.non_field_errors %}
                                    <div
                                        class="text-red-500 text-sm py-5 text-center ">{{ form.non_field_errors }}
                                    </div>
                                {% endif %}
                            </div>
                            <div class="float-right mt-5">
                                <button type="submit"
                                        class="text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800">
                                    Save Changes
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>

{% endblock %}