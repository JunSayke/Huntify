{% load static %}

<header>
    <nav class="fixed top-0 z-20 w-full border-b border-gray-200 bg-white dark:border-gray-600 dark:bg-gray-900">
        <div class="container mx-auto flex flex-wrap items-center justify-between px-4 py-3">
            <!-- Logo -->
            <a href="#" class="flex items-center space-x-3">
                <div class="p-2">
                    <img src="{% static 'images/logo1.png' %}" alt="Logo" class="h-10 w-10 object-cover" />
                </div>
            </a>

            <!-- Hamburger Menu (Mobile) -->
            <button
                id="menu-toggle"
                class="block md:hidden focus:outline-none"
                aria-expanded="false"
            >
                <span class="sr-only">Toggle navigation</span>
                <i class="fa-solid fa-bars text-2xl"></i>
            </button>

            <!-- Navigation Links -->
            <div id="menu" class="hidden w-full md:flex md:w-auto md:items-center">
                <ul class="flex flex-col md:flex-row md:space-x-8">
                    <li>
                        <a
                            href="{% url 'authentication:home' %}"
                            class="block text-sm font-medium text-blue-700 md:py-0"
                            aria-current="page"
                        >
                            Home
                        </a>
                    </li>
                    <li>
                        <a
                            href="{% url 'property_management:landlords' %}"
                            class="block text-sm font-medium text-gray-900 hover:text-blue-700 dark:text-white dark:hover:text-blue-500"
                        >
                            Landlord
                        </a>
                    </li>
                    <li>
                        <a
                            href="#about"
                            class="block text-sm font-medium text-gray-900 hover:text-blue-700 dark:text-white dark:hover:text-blue-500"
                        >
                            About
                        </a>
                    </li>
                </ul>
            </div>

            <!-- Action Buttons -->
            <div class="flex flex-col space-y-3 md:flex-row md:space-y-0 md:space-x-5 relative">
                {% if user.is_authenticated %}
                    <div class="flex items-center space-x-0">
                        <button
                            type="button"
                            id="notification-menu-button"
                            aria-expanded="false"
                            data-dropdown-toggle="notification-dropdown"
                            data-dropdown-placement="bottom"
                        >
                            <span class="sr-only">Open notification menu</span>
                            <i class="fa-solid fa-bell text-4xl text-center"></i>
                        </button>
                        
                        <div
                            class="z-50 my-4 hidden list-none divide-y divide-gray-100 rounded-lg bg-white text-base shadow dark:divide-gray-600 dark:bg-gray-700"
                            id="notification-dropdown"
                        >
                            <div class="flex items-center">
                                <div class="p-5 text-sm font-normal">
                                    <div class="text-sm font-semibold text-gray-900 dark:text-white">Booking Request</div>
                                    <div class="text-sm font-normal">Landlord has rejected your request</div>
                                    <span
                                        class="text-xs font-medium text-blue-600 dark:text-blue-500">a few seconds ago</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-center space-x-0">
                        <button
                            type="button"
                            class="flex rounded-full bg-gray-800 text-sm focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600 md:me-0"
                            id="user-menu-button"
                            aria-expanded="false"
                            data-dropdown-toggle="user-dropdown"
                            data-dropdown-placement="bottom"
                        >
                            <span class="sr-only">Open user menu</span>
                            <span
                                class="relative h-10 w-10 overflow-hidden rounded-full bg-gray-100 dark:bg-gray-600"
                            >
                                <img
                                    class="h-full w-full object-cover"
                                    src="{{ user.avatar }}"
                                    alt="{{ user.username }}"
                                />
                            </span>
                        </button>
                        <div
                            class="z-50 my-4 hidden list-none divide-y divide-gray-100 rounded-lg bg-white text-base shadow dark:divide-gray-600 dark:bg-gray-700"
                            id="user-dropdown"
                        >
                            <div class="px-4 py-3">
                  <span class="block text-sm text-gray-900 dark:text-white">
                    {{ user.username }}
                  </span>
                                <span
                                    class="block truncate text-sm text-gray-500 dark:text-gray-400"
                                >
                    {{ user.email }}
                  </span>
                            </div>
                            <ul class="py-2" aria-labelledby="user-menu-button">
                                <li>
                                    <a
                                        href="{{ user.get_absolute_url }}"
                                        class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-600 dark:hover:text-white"
                                    >
                                        Profile
                                    </a>
                                </li>
                                {% if user.user_type == 'landlord' %}
                                    <li>
                                        <a
                                            href="{% url 'property_management:dashboard' %}"
                                            class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-600 dark:hover:text-white"
                                        >
                                            Dashboard
                                        </a>
                                    </li>
                                {% endif %}
                                <li>
                                    <form method="POST" action="{% url 'authentication:logout' %}">
                                        {% csrf_token %}
                                        <button
                                            type="submit"
                                            class="w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:text-gray-200 dark:hover:bg-gray-600 dark:hover:text-white"
                                        >
                                            Sign out
                                        </button>
                                    </form>
                                </li>
                            </ul>
                        </div>
                    </div>

                {% else %}
                    <a
                        href="{% url 'authentication:login' %}"
                        class="block rounded-lg bg-gray-200 px-3 py-1 text-center text-sm font-medium text-gray-900 hover:bg-gray-300 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
                    >
                        Sign In
                    </a>
                    <a
                        href="{% url 'authentication:register' %}"
                        class="block rounded-lg bg-blue-700 px-3 py-1 text-center text-sm font-medium text-white hover:bg-blue-800 dark:bg-blue-600 dark:hover:bg-blue-700"
                    >
                        Sign Up
                    </a>
                {% endif %}
                <a
                    href="{% url 'property_management:rent-a-room' %}"
                    class="block rounded-lg border border-gray-200 bg-gray-100 px-3 py-1 text-center text-sm font-medium text-gray-900 hover:border-gray-300 hover:bg-gray-200 dark:border-gray-600 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
                >
                    Rent a Room
                </a>
            </div>
        </div>
    </nav>
</header>
